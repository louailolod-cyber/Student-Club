{% extends 'base.html' %}

{% block title %}Events{% endblock %}

{% block content %}
<h1 class="mb-4">Events</h1>

<a href="{{ url_for('add_event') }}" class="btn btn-primary mb-3">Add Event</a>

<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Date</th>
      <th>Location</th>
      <th>Capacity</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for ev in events %}
    <tr>
      <td>{{ ev.id }}</td>
      <td>{{ ev.title }}</td>
      <td>{% if ev.date is string %}{{ ev.date }}{% elif ev.date %}{{ ev.date.strftime('%Y-%m-%d') }}{% else %}{% endif %}</td>
      <td>{{ ev.location or '' }}</td>
      <td>{{ ev.capacity }}</td>
      <td>
        <a href="{{ url_for('delete_event', event_id=ev.id) }}" class="btn btn-sm btn-danger" onclick="return confirm('Delete this event?')">Delete</a>
      </td>
    </tr>
    {% else %}
    <tr><td colspan="6" class="text-center">No events found</td></tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
